language: c
compiler: clang

before_install:
 - sudo add-apt-repository "deb http://archive.ubuntu.com/ubuntu $(lsb_release -sc) universe"
 - sudo apt-get update -qq
 - sudo apt-get install -qq libfuse-dev libglib2.0-dev cmake git libc6-dev binutils valac libgee-dev
 - valac --pkg gee-1.0 --pkg posix --pkg glib-2.0 --pkg gio-2.0 LibcWrapGenerator.vala
 - sudo ./LibcWrapGenerator --target 2.7 --libdir /lib --output libcwrap.h

script: cmake . && make
